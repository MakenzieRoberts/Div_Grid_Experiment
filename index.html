<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>DIV-IF-FY</title>
		<link rel="stylesheet" href="style.css" />

		<script src="https://unpkg.com/eventemitter3"></script>
		<!-- "defer" makes the script act as if it was added to the bottom of body -->
		<script src="index.js" defer></script>
	</head>
	<body>
		<div id="main-container">

				<img
					class="banner"
					id="divify-banner"
					src="./images/divify_banner.svg"
					alt="Divify"
				/>


			<p id="description">
				This tool takes an image and creates a grid of coloured divs, with each
				div representing one pixel. <br /><br />
				HTML with inline-styling is then generated, which can be copied and
				pasted into your project. <br /><br />

				<strong
					>⚠️ Please note that any image with dimensions greater than 100px by
					100px may slow down or crash your browser, as generating that many
					divs is an expensive operation. This tool currently has no limit on
					image size, so exercise caution.
				</strong>
			</p>

			<form
				id="form-wrapper"
				class="rainbow-wrapper"
				method="post"
				enctype="multipart/form-data"
			>
				<div>
					<input
						aria-label="Choose file to upload"
						type="file"
						id="imageLoader"
						name="imageLoader"
						accept="image/*"
					/>
				</div>
			</form>

				<img
					class="banner"
					id="original-banner"
					src="./images/original_banner.svg"
					alt="Original Image"
				/>

			<canvas id="canvas" width="0" height="0"></canvas>

				<img
					class="banner"
					id="divified-banner"
					src="./images/divified_banner.svg"
					alt="Processed Image"
				/>

			<div id="grid-wrapper"></div>

			<div
				id="textarea-wrapper"
				hidden
				class="collapsable collapsed rainbow-wrapper hidden"
			>
				<textarea
					id="textarea"
					rows="10"
					cols="50"
					style="overflow-y: scroll; resize: none"
					readonly
				></textarea>
			</div>
			<!-- </div> -->
		</div>
		<script
			src="https://cdnjs.cloudflare.com/ajax/libs/fitty/2.2.6/fitty.min.js"
			integrity="sha512-KkWBcUQjpR0NMNLytOBHfEqSF0urYJMXGRU/dzQxa+HQ4zak1gRSoegRvRnUcCFWBPcDIlLU7tBY8o7+bIkvWA=="
			crossorigin="anonymous"
			referrerpolicy="no-referrer"
		></script>
		<script>
			fitty("#ascii-divify", {
				minSize: 1,
				maxSize: 50,
			});
			fitty("#ascii-original", {
				minSize: 1,
				maxSize: 50,
			});
			fitty("#ascii-divified", {
				minSize: 1,
				maxSize: 50,
			});
			//
		</script>
	</body>
</html>
